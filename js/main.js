(function(){var g={animations:Modernizr.cssanimations},a=document.getElementById("ip-container"),c=a.querySelector("header.ip-header"),f=new PathLoader(document.getElementById("ip-loader-circle")),i={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},e=i[Modernizr.prefixed("animation")];function h(){var j=function(){if(g.animations){this.removeEventListener(e,j)}d()};window.addEventListener("scroll",b);classie.add(a,"loading");if(g.animations){a.addEventListener(e,j)}else{j()}}function d(){var j=function(k){var m=0,l=setInterval(function(){m=Math.min(m+Math.random()*0.1,1);k.setProgress(m);if(m===1){classie.remove(a,"loading");classie.add(a,"loaded");clearInterval(l);var n=function(o){if(g.animations){if(o.target!==c){return}this.removeEventListener(e,n)}classie.add(document.body,"layout-switch");window.removeEventListener("scroll",b)};if(g.animations){c.addEventListener(e,n)}else{n()}}},80)};f.setProgressFn(j)}function b(){window.scrollTo(0,0)}h()})();