/*!
 * jQuery Form Plugin
 * version: 3.32.0-2013.04.09
 * @requires jQuery v1.5 or later
 * Copyright (c) 2013 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
(function(i){var l={};l.fileapi=i("<input type='file'/>").get(0).files!==undefined;l.formdata=window.FormData!==undefined;var j=!!i.fn.prop;i.fn.attr2=function(){if(!j){return this.attr.apply(this,arguments)}var a=this.prop.apply(this,arguments);if((a&&a.jquery)||typeof a==="string"){return a}return this.attr.apply(this,arguments)};i.fn.ajaxSubmit=function(U){if(!this.length){k("ajaxSubmit: skipping submit process - no element selected");return this}var V,a,S,Q=this;if(typeof U=="function"){U={success:U}}V=this.attr2("method");a=this.attr2("action");S=(typeof a==="string")?i.trim(a):"";S=S||window.location.href||"";if(S){S=(S.match(/^([^#]+)/)||[])[1]}U=i.extend(true,{url:S,success:i.ajaxSettings.success,type:V||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},U);var H={};this.trigger("form-pre-serialize",[this,U,H]);if(H.veto){k("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(U.beforeSerialize&&U.beforeSerialize(this,U)===false){k("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var R=U.traditional;if(R===undefined){R=i.ajaxSettings.traditional}var L=[];var K,J=this.formToArray(U.semantic,L);if(U.data){U.extraData=U.data;K=i.param(U.data,R)}if(U.beforeSubmit&&U.beforeSubmit(J,this,U)===false){k("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[J,this,U,H]);if(H.veto){k("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var c=i.param(J,R);if(K){c=(c?(c+"&"+K):K)}if(U.type.toUpperCase()=="GET"){U.url+=(U.url.indexOf("?")>=0?"&":"?")+c;U.data=null}else{U.data=c}var q=[];if(U.resetForm){q.push(function(){Q.resetForm()})}if(U.clearForm){q.push(function(){Q.clearForm(U.includeHidden)})}if(!U.dataType&&U.target){var T=U.success||function(){};q.push(function(n){var m=U.replaceTarget?"replaceWith":"html";i(U.target)[m](n).each(T,arguments)})}else{if(U.success){q.push(U.success)}}U.success=function(o,s,n){var p=U.context||this;for(var r=0,m=q.length;r<m;r++){q[r].apply(p,[o,s,n||Q,Q])}};var M=i('input[type=file]:enabled[value!=""]',this);var P=M.length>0;var O="multipart/form-data";var d=(Q.attr("enctype")==O||Q.attr("encoding")==O);var e=l.fileapi&&l.formdata;k("fileAPI :"+e);var N=(P||d)&&!e;var f;if(U.iframe!==false&&(U.iframe||N)){if(U.closeKeepAlive){i.get(U.closeKeepAlive,function(){f=G(J)})}else{f=G(J)}}else{if((P||d)&&e){f=I(J)}else{f=i.ajax(U)}}Q.removeData("jqxhr").data("jqxhr",f);for(var b=0;b<L.length;b++){L[b]=null}this.trigger("form-submit-notify",[this,U]);return this;function W(o){var n=i.param(o).split("&");var s=n.length;var m=[];var p,r;for(p=0;p<s;p++){n[p]=n[p].replace(/\+/g," ");r=n[p].split("=");m.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])])}return m}function I(s){var n=new FormData();for(var r=0;r<s.length;r++){n.append(s[r].name,s[r].value)}if(U.extraData){var m=W(U.extraData);for(r=0;r<m.length;r++){if(m[r]){n.append(m[r][0],m[r][1])}}}U.data=null;var o=i.extend(true,{},i.ajaxSettings,U,{contentType:false,processData:false,cache:false,type:V||"POST"});if(U.uploadProgress){o.xhr=function(){var t=jQuery.ajaxSettings.xhr();if(t.upload){t.upload.addEventListener("progress",function(v){var w=0;var u=v.loaded||v.position;var x=v.total;if(v.lengthComputable){w=Math.ceil(u/x*100)}U.uploadProgress(v,u,x,w)},false)}return t}}o.data=null;var p=o.beforeSend;o.beforeSend=function(t,u){u.data=n;if(p){p.call(this,t,u)}};return i.ajax(o)}function G(an){var D=Q[0],E,m,t,ap,p,B,y,A,z,o,aq,v;var ak=i.Deferred();if(an){for(m=0;m<L.length;m++){E=i(L[m]);if(j){E.prop("disabled",false)}else{E.removeAttr("disabled")}}}t=i.extend(true,{},i.ajaxSettings,U);t.context=t.context||t;p="jqFormIO"+(new Date().getTime());if(t.iframeTarget){B=i(t.iframeTarget);o=B.attr2("name");if(!o){B.attr2("name",p)}else{p=o}}else{B=i('<iframe name="'+p+'" src="'+t.iframeSrc+'" />');B.css({position:"absolute",top:"-1000px",left:"-1000px"})}y=B[0];A={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(Y){var X=(Y==="timeout"?"timeout":"aborted");k("aborting upload... "+X);this.aborted=1;try{if(y.contentWindow.document.execCommand){y.contentWindow.document.execCommand("Stop")}}catch(Z){}B.attr("src",t.iframeSrc);A.error=X;if(t.error){t.error.call(t.context,A,X,Y)}if(ap){i.event.trigger("ajaxError",[A,t,X])}if(t.complete){t.complete.call(t.context,A,X)}}};ap=t.global;if(ap&&0===i.active++){i.event.trigger("ajaxStart")}if(ap){i.event.trigger("ajaxSend",[A,t])}if(t.beforeSend&&t.beforeSend.call(t.context,A,t)===false){if(t.global){i.active--}ak.reject();return ak}if(A.aborted){ak.reject();return ak}z=D.clk;if(z){o=z.name;if(o&&!z.disabled){t.extraData=t.extraData||{};t.extraData[o]=z.value;if(z.type=="image"){t.extraData[o+".x"]=D.clk_x;t.extraData[o+".y"]=D.clk_y}}}var u=1;var x=2;function w(Z){var X=null;try{if(Z.contentWindow){X=Z.contentWindow.document}}catch(Y){k("cannot get iframe.contentWindow document: "+Y)}if(X){return X}try{X=Z.contentDocument?Z.contentDocument:Z.document}catch(Y){k("cannot get iframe.contentDocument: "+Y);X=Z.document}return X}var F=i("meta[name=csrf-token]").attr("content");var ah=i("meta[name=csrf-param]").attr("content");if(ah&&F){t.extraData=t.extraData||{};t.extraData[ah]=F}function n(){var ad=Q.attr2("target"),Y=Q.attr2("action");D.setAttribute("target",p);if(!V){D.setAttribute("method","POST")}if(Y!=t.url){D.setAttribute("action",t.url)}if(!t.skipEncodingOverride&&(!V||/post/i.test(V))){Q.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(t.timeout){v=setTimeout(function(){aq=true;r(u)},t.timeout)}function ac(){try{var af=w(y).readyState;k("state = "+af);if(af&&af.toLowerCase()=="uninitialized"){setTimeout(ac,50)}}catch(ae){k("Server abort: ",ae," (",ae.name,")");r(x);if(v){clearTimeout(v)}v=undefined}}var X=[];try{if(t.extraData){for(var Z in t.extraData){if(t.extraData.hasOwnProperty(Z)){if(i.isPlainObject(t.extraData[Z])&&t.extraData[Z].hasOwnProperty("name")&&t.extraData[Z].hasOwnProperty("value")){X.push(i('<input type="hidden" name="'+t.extraData[Z].name+'">').val(t.extraData[Z].value).appendTo(D)[0])}else{X.push(i('<input type="hidden" name="'+Z+'">').val(t.extraData[Z]).appendTo(D)[0])}}}}if(!t.iframeTarget){B.appendTo("body");if(y.attachEvent){y.attachEvent("onload",r)}else{y.addEventListener("load",r,false)}}setTimeout(ac,15);try{D.submit()}catch(ab){var aa=document.createElement("form").submit;aa.apply(D)}}finally{D.setAttribute("action",Y);if(ad){D.setAttribute("target",ad)}else{Q.removeAttr("target")}i(X).remove()}}if(t.forceSync){n()}else{setTimeout(n,10)}var am,al,ao=50,C;function r(ab){if(A.aborted||C){return}al=w(y);if(!al){k("cannot access response document");ab=x}if(ab===u&&A){A.abort("timeout");ak.reject(A,"timeout");return}else{if(ab==x&&A){A.abort("server abort");ak.reject(A,"error","server abort");return}}if(!al||al.location.href==t.iframeSrc){if(!aq){return}}if(y.detachEvent){y.detachEvent("onload",r)}else{y.removeEventListener("load",r,false)}var ad="success",Z;try{if(aq){throw"timeout"}var ae=t.dataType=="xml"||al.XMLDocument||i.isXMLDoc(al);k("isXml="+ae);if(!ae&&window.opera&&(al.body===null||!al.body.innerHTML)){if(--ao){k("requeing onLoad callback, DOM not available");setTimeout(r,250);return}}var Y=al.body?al.body:al.documentElement;A.responseText=Y?Y.innerHTML:null;A.responseXML=al.XMLDocument?al.XMLDocument:al;if(ae){t.dataType="xml"}A.getResponseHeader=function(aw){var av={"content-type":t.dataType};return av[aw]};if(Y){A.status=Number(Y.getAttribute("status"))||A.status;A.statusText=Y.getAttribute("statusText")||A.statusText}var ar=(t.dataType||"").toLowerCase();var aa=/(json|script|text)/.test(ar);if(aa||t.textarea){var ac=al.getElementsByTagName("textarea")[0];if(ac){A.responseText=ac.value;A.status=Number(ac.getAttribute("status"))||A.status;A.statusText=ac.getAttribute("statusText")||A.statusText}else{if(aa){var ag=al.getElementsByTagName("pre")[0];var X=al.getElementsByTagName("body")[0];if(ag){A.responseText=ag.textContent?ag.textContent:ag.innerText}else{if(X){A.responseText=X.textContent?X.textContent:X.innerText}}}}}else{if(ar=="xml"&&!A.responseXML&&A.responseText){A.responseXML=s(A.responseText)}}try{am=aj(A,ar,t)}catch(af){ad="parsererror";A.error=Z=(af||ad)}}catch(af){k("error caught: ",af);ad="error";A.error=Z=(af||ad)}if(A.aborted){k("upload aborted");ad=null}if(A.status){ad=(A.status>=200&&A.status<300||A.status===304)?"success":"error"}if(ad==="success"){if(t.success){t.success.call(t.context,am,"success",A)}ak.resolve(A.responseText,"success",A);if(ap){i.event.trigger("ajaxSuccess",[A,t])}}else{if(ad){if(Z===undefined){Z=A.statusText}if(t.error){t.error.call(t.context,A,ad,Z)}ak.reject(A,"error",Z);if(ap){i.event.trigger("ajaxError",[A,t,Z])}}}if(ap){i.event.trigger("ajaxComplete",[A,t])}if(ap&&!--i.active){i.event.trigger("ajaxStop")}if(t.complete){t.complete.call(t.context,A,ad)}C=true;if(t.timeout){clearTimeout(v)}setTimeout(function(){if(!t.iframeTarget){B.remove()}A.responseXML=null},100)}var s=i.parseXML||function(Y,X){if(window.ActiveXObject){X=new ActiveXObject("Microsoft.XMLDOM");X.async="false";X.loadXML(Y)}else{X=(new DOMParser()).parseFromString(Y,"text/xml")}return(X&&X.documentElement&&X.documentElement.nodeName!="parsererror")?X:null};var ai=i.parseJSON||function(X){return window["eval"]("("+X+")")};var aj=function(Z,ab,ac){var X=Z.getResponseHeader("content-type")||"",Y=ab==="xml"||!ab&&X.indexOf("xml")>=0,aa=Y?Z.responseXML:Z.responseText;if(Y&&aa.documentElement.nodeName==="parsererror"){if(i.error){i.error("parsererror")}}if(ac&&ac.dataFilter){aa=ac.dataFilter(aa,ab)}if(typeof aa==="string"){if(ab==="json"||!ab&&X.indexOf("json")>=0){aa=ai(aa)}else{if(ab==="script"||!ab&&X.indexOf("javascript")>=0){i.globalEval(aa)}}}return aa};return ak}};i.fn.ajaxForm=function(b){b=b||{};b.delegation=b.delegation&&i.isFunction(i.fn.on);if(!b.delegation&&this.length===0){var a={s:this.selector,c:this.context};if(!i.isReady&&a.s){k("DOM not ready, queuing ajaxForm");i(function(){i(a.s,a.c).ajaxForm(b)});return this}k("terminating; zero elements found by selector"+(i.isReady?"":" (DOM not ready)"));return this}if(b.delegation){i(document).off("submit.form-plugin",this.selector,g).off("click.form-plugin",this.selector,h).on("submit.form-plugin",this.selector,b,g).on("click.form-plugin",this.selector,b,h);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",b,g).bind("click.form-plugin",b,h)};function g(a){var b=a.data;if(!a.isDefaultPrevented()){a.preventDefault();i(this).ajaxSubmit(b)}}function h(b){var c=b.target;var e=i(c);if(!(e.is("[type=submit],[type=image]"))){var f=e.closest("[type=submit]");if(f.length===0){return}c=f[0]}var d=this;d.clk=c;if(c.type=="image"){if(b.offsetX!==undefined){d.clk_x=b.offsetX;d.clk_y=b.offsetY}else{if(typeof i.fn.offset=="function"){var a=e.offset();d.clk_x=b.pageX-a.left;d.clk_y=b.pageY-a.top}else{d.clk_x=b.pageX-c.offsetLeft;d.clk_y=b.pageY-c.offsetTop}}}setTimeout(function(){d.clk=d.clk_x=d.clk_y=null},100)}i.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};i.fn.formToArray=function(B,z){var C=[];if(this.length===0){return C}var f=this[0];var c=B?f.getElementsByTagName("*"):f.elements;if(!c){return C}var a,b,d,A,e,E,n;for(a=0,E=c.length;a<E;a++){e=c[a];d=e.name;if(!d||e.disabled){continue}if(B&&f.clk&&e.type=="image"){if(f.clk==e){C.push({name:d,value:i(e).val(),type:e.type});C.push({name:d+".x",value:f.clk_x},{name:d+".y",value:f.clk_y})}continue}A=i.fieldValue(e,true);if(A&&A.constructor==Array){if(z){z.push(e)}for(b=0,n=A.length;b<n;b++){C.push({name:d,value:A[b]})}}else{if(l.fileapi&&e.type=="file"){if(z){z.push(e)}var v=e.files;if(v.length){for(b=0;b<v.length;b++){C.push({name:d,value:v[b],type:e.type})}}else{C.push({name:d,value:"",type:e.type})}}else{if(A!==null&&typeof A!="undefined"){if(z){z.push(e)}C.push({name:d,value:A,type:e.type,required:e.required})}}}}if(!B&&f.clk){var F=i(f.clk),D=F[0];d=D.name;if(d&&!D.disabled&&D.type=="image"){C.push({name:d,value:F.val()});C.push({name:d+".x",value:f.clk_x},{name:d+".y",value:f.clk_y})}}return C};i.fn.formSerialize=function(a){return i.param(this.formToArray(a))};i.fn.fieldSerialize=function(a){var b=[];this.each(function(){var c=this.name;if(!c){return}var e=i.fieldValue(this,a);if(e&&e.constructor==Array){for(var d=0,f=e.length;d<f;d++){b.push({name:c,value:e[d]})}}else{if(e!==null&&typeof e!="undefined"){b.push({name:this.name,value:e})}}});return i.param(b)};i.fn.fieldValue=function(a){for(var b=[],d=0,f=this.length;d<f;d++){var c=this[d];var e=i.fieldValue(c,a);if(e===null||typeof e=="undefined"||(e.constructor==Array&&!e.length)){continue}if(e.constructor==Array){i.merge(b,e)}else{b.push(e)}}return b};i.fieldValue=function(x,d){var t=x.name,z=x.type,y=x.tagName.toLowerCase();if(d===undefined){d=true}if(d&&(!t||x.disabled||z=="reset"||z=="button"||(z=="checkbox"||z=="radio")&&!x.checked||(z=="submit"||z=="image")&&x.form&&x.form.clk!=x||y=="select"&&x.selectedIndex==-1)){return null}if(y=="select"){var c=x.selectedIndex;if(c<0){return null}var a=[],v=x.options;var f=(z=="select-one");var b=(f?c+1:v.length);for(var n=(f?c:0);n<b;n++){var e=v[n];if(e.selected){var A=e.value;if(!A){A=(e.attributes&&e.attributes.value&&!(e.attributes.value.specified))?e.text:e.value}if(f){return A}a.push(A)}}return a}return i(x).val()};i.fn.clearForm=function(a){return this.each(function(){i("input,select,textarea",this).clearFields(a)})};i.fn.clearFields=i.fn.clearInputs=function(b){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var c=this.type,d=this.tagName.toLowerCase();if(a.test(c)||d=="textarea"){this.value=""}else{if(c=="checkbox"||c=="radio"){this.checked=false}else{if(d=="select"){this.selectedIndex=-1}else{if(c=="file"){if(/MSIE/.test(navigator.userAgent)){i(this).replaceWith(i(this).clone(true))}else{i(this).val("")}}else{if(b){if((b===true&&/hidden/.test(c))||(typeof b=="string"&&i(this).is(b))){this.value=""}}}}}}})};i.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};i.fn.enable=function(a){if(a===undefined){a=true}return this.each(function(){this.disabled=!a})};i.fn.selected=function(a){if(a===undefined){a=true}return this.each(function(){var c=this.type;if(c=="checkbox"||c=="radio"){this.checked=a}else{if(this.tagName.toLowerCase()=="option"){var b=i(this).parent("select");if(a&&b[0]&&b[0].type=="select-one"){b.find("option").selected(false)}this.selected=a}}})};i.fn.ajaxSubmit.debug=false;function k(){if(!i.fn.ajaxSubmit.debug){return}var a="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(a)}else{if(window.opera&&window.opera.postError){window.opera.postError(a)}}}})(jQuery);